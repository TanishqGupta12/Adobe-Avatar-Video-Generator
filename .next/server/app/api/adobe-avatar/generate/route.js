"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/adobe-avatar/generate/route";
exports.ids = ["app/api/adobe-avatar/generate/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadobe-avatar%2Fgenerate%2Froute&page=%2Fapi%2Fadobe-avatar%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadobe-avatar%2Fgenerate%2Froute.ts&appDir=%2Fhome%2Fhipster%2FDesktop%2Fown%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fhipster%2FDesktop%2Fown&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadobe-avatar%2Fgenerate%2Froute&page=%2Fapi%2Fadobe-avatar%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadobe-avatar%2Fgenerate%2Froute.ts&appDir=%2Fhome%2Fhipster%2FDesktop%2Fown%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fhipster%2FDesktop%2Fown&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_hipster_Desktop_own_app_api_adobe_avatar_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/adobe-avatar/generate/route.ts */ \"(rsc)/./app/api/adobe-avatar/generate/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/adobe-avatar/generate/route\",\n        pathname: \"/api/adobe-avatar/generate\",\n        filename: \"route\",\n        bundlePath: \"app/api/adobe-avatar/generate/route\"\n    },\n    resolvedPagePath: \"/home/hipster/Desktop/own/app/api/adobe-avatar/generate/route.ts\",\n    nextConfigOutput,\n    userland: _home_hipster_Desktop_own_app_api_adobe_avatar_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/adobe-avatar/generate/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZG9iZS1hdmF0YXIlMkZnZW5lcmF0ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWRvYmUtYXZhdGFyJTJGZ2VuZXJhdGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhZG9iZS1hdmF0YXIlMkZnZW5lcmF0ZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGaGlwc3RlciUyRkRlc2t0b3AlMkZvd24lMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRmhvbWUlMkZoaXBzdGVyJTJGRGVza3RvcCUyRm93biZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDZ0I7QUFDN0Y7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS12aWRlby1zdHVkaW8vP2E0MmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL2hvbWUvaGlwc3Rlci9EZXNrdG9wL293bi9hcHAvYXBpL2Fkb2JlLWF2YXRhci9nZW5lcmF0ZS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYWRvYmUtYXZhdGFyL2dlbmVyYXRlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWRvYmUtYXZhdGFyL2dlbmVyYXRlXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hZG9iZS1hdmF0YXIvZ2VuZXJhdGUvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvaG9tZS9oaXBzdGVyL0Rlc2t0b3Avb3duL2FwcC9hcGkvYWRvYmUtYXZhdGFyL2dlbmVyYXRlL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hZG9iZS1hdmF0YXIvZ2VuZXJhdGUvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadobe-avatar%2Fgenerate%2Froute&page=%2Fapi%2Fadobe-avatar%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadobe-avatar%2Fgenerate%2Froute.ts&appDir=%2Fhome%2Fhipster%2FDesktop%2Fown%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fhipster%2FDesktop%2Fown&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/adobe-avatar/generate/route.ts":
/*!************************************************!*\
  !*** ./app/api/adobe-avatar/generate/route.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v4/classic/external.js\");\n/* harmony import */ var _lib_apis_adobe_avatar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/apis/adobe-avatar */ \"(rsc)/./lib/apis/adobe-avatar.ts\");\n\n\n\nconst AdobeAvatarSchema = zod__WEBPACK_IMPORTED_MODULE_2__.object({\n    inputType: zod__WEBPACK_IMPORTED_MODULE_2__[\"enum\"]([\n        \"text\",\n        \"textFile\",\n        \"audio\"\n    ]).default(\"text\"),\n    prompt: zod__WEBPACK_IMPORTED_MODULE_2__.string().optional(),\n    avatarId: zod__WEBPACK_IMPORTED_MODULE_2__.string().min(1, \"Avatar ID is required\"),\n    voiceId: zod__WEBPACK_IMPORTED_MODULE_2__.string().optional(),\n    localeCode: zod__WEBPACK_IMPORTED_MODULE_2__.string().default(\"en-US\"),\n    backgroundType: zod__WEBPACK_IMPORTED_MODULE_2__[\"enum\"]([\n        \"color\",\n        \"transparent\",\n        \"image\",\n        \"video\"\n    ]).optional(),\n    backgroundColor: zod__WEBPACK_IMPORTED_MODULE_2__.string().optional(),\n    backgroundUrl: zod__WEBPACK_IMPORTED_MODULE_2__.string().optional(),\n    userId: zod__WEBPACK_IMPORTED_MODULE_2__.string().optional(),\n    // Text file input\n    textFileUrl: zod__WEBPACK_IMPORTED_MODULE_2__.string().optional(),\n    // Audio input\n    audioFileUrl: zod__WEBPACK_IMPORTED_MODULE_2__.string().optional(),\n    audioFormat: zod__WEBPACK_IMPORTED_MODULE_2__[\"enum\"]([\n        \"audio/wav\",\n        \"audio/mp3\",\n        \"audio/m4a\"\n    ]).optional(),\n    // Output format\n    outputFormat: zod__WEBPACK_IMPORTED_MODULE_2__[\"enum\"]([\n        \"video/mp4\",\n        \"video/webm\"\n    ]).default(\"video/mp4\")\n}).refine((data)=>{\n    // Validate based on input type\n    if (data.inputType === \"text\") {\n        return data.prompt && data.voiceId;\n    } else if (data.inputType === \"textFile\") {\n        return data.textFileUrl && data.voiceId;\n    } else if (data.inputType === \"audio\") {\n        return data.audioFileUrl;\n    }\n    return false;\n}, {\n    message: \"Invalid input parameters for the specified input type\"\n});\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const validatedData = AdobeAvatarSchema.parse(body);\n        const adobeAPI = new _lib_apis_adobe_avatar__WEBPACK_IMPORTED_MODULE_1__.AdobeAvatarAPI({\n            clientId: process.env.ADOBE_CLIENT_ID || \"\",\n            clientSecret: process.env.ADOBE_CLIENT_SECRET || \"\"\n        });\n        // Check if we're in demo mode\n        const isDemoMode = false // Using real Adobe credentials\n        ;\n        if (isDemoMode) {\n            console.log(\"Running in demo mode - Adobe credentials not configured\");\n        }\n        let result;\n        switch(validatedData.inputType){\n            case \"text\":\n                result = await adobeAPI.generateFromText({\n                    text: validatedData.prompt,\n                    avatarId: validatedData.avatarId,\n                    voiceId: validatedData.voiceId,\n                    localeCode: validatedData.localeCode,\n                    backgroundType: validatedData.backgroundType,\n                    backgroundColor: validatedData.backgroundColor,\n                    backgroundUrl: validatedData.backgroundUrl,\n                    outputFormat: validatedData.outputFormat\n                });\n                break;\n            case \"textFile\":\n                result = await adobeAPI.generateFromTextFile({\n                    textFileUrl: validatedData.textFileUrl,\n                    avatarId: validatedData.avatarId,\n                    voiceId: validatedData.voiceId,\n                    localeCode: validatedData.localeCode,\n                    backgroundType: validatedData.backgroundType,\n                    backgroundColor: validatedData.backgroundColor,\n                    backgroundUrl: validatedData.backgroundUrl,\n                    outputFormat: validatedData.outputFormat\n                });\n                break;\n            case \"audio\":\n                result = await adobeAPI.generateFromAudio({\n                    audioFileUrl: validatedData.audioFileUrl,\n                    avatarId: validatedData.avatarId,\n                    audioFormat: validatedData.audioFormat,\n                    localeCode: validatedData.localeCode,\n                    backgroundType: validatedData.backgroundType,\n                    backgroundColor: validatedData.backgroundColor,\n                    backgroundUrl: validatedData.backgroundUrl,\n                    outputFormat: validatedData.outputFormat\n                });\n                break;\n            default:\n                throw new Error(\"Invalid input type\");\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: {\n                jobId: result.jobId,\n                status: result.status,\n                message: isDemoMode ? \"Adobe Avatar API not accessible, using demo mode (credentials configured)\" : \"Adobe Avatar video generation started successfully\",\n                demoMode: isDemoMode,\n                hasCredentials: true\n            }\n        });\n    } catch (error) {\n        console.error(\"Adobe Avatar generation error:\", error);\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_2__.ZodError) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Validation error\",\n                details: error.issues || []\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Internal server error\",\n            message: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const jobId = searchParams.get(\"jobId\");\n        const statusUrl = searchParams.get(\"statusUrl\");\n        if (!jobId && !statusUrl) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Either Job ID or Status URL is required\"\n            }, {\n                status: 400\n            });\n        }\n        const adobeAPI = new _lib_apis_adobe_avatar__WEBPACK_IMPORTED_MODULE_1__.AdobeAvatarAPI({\n            clientId: process.env.ADOBE_CLIENT_ID,\n            clientSecret: process.env.ADOBE_CLIENT_SECRET\n        });\n        let result;\n        if (statusUrl) {\n            // Use the status URL directly (more reliable)\n            result = await adobeAPI.getJobStatusByUrl(statusUrl);\n        } else {\n            // Use job ID to construct the status endpoint\n            result = await adobeAPI.getJobStatus(jobId);\n        }\n        const isDemoMode = false // Using real Adobe credentials\n        ;\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: {\n                ...result,\n                demoMode: isDemoMode,\n                hasCredentials: true\n            }\n        });\n    } catch (error) {\n        console.error(\"Get Adobe Avatar job status error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Internal server error\",\n            message: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2Fkb2JlLWF2YXRhci9nZW5lcmF0ZS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF1RDtBQUNoQztBQUNpQztBQUV4RCxNQUFNRyxvQkFBb0JGLHVDQUFRLENBQUM7SUFDakNJLFdBQVdKLHdDQUFNLENBQUM7UUFBQztRQUFRO1FBQVk7S0FBUSxFQUFFTSxPQUFPLENBQUM7SUFDekRDLFFBQVFQLHVDQUFRLEdBQUdTLFFBQVE7SUFDM0JDLFVBQVVWLHVDQUFRLEdBQUdXLEdBQUcsQ0FBQyxHQUFHO0lBQzVCQyxTQUFTWix1Q0FBUSxHQUFHUyxRQUFRO0lBQzVCSSxZQUFZYix1Q0FBUSxHQUFHTSxPQUFPLENBQUM7SUFDL0JRLGdCQUFnQmQsd0NBQU0sQ0FBQztRQUFDO1FBQVM7UUFBZTtRQUFTO0tBQVEsRUFBRVMsUUFBUTtJQUMzRU0saUJBQWlCZix1Q0FBUSxHQUFHUyxRQUFRO0lBQ3BDTyxlQUFlaEIsdUNBQVEsR0FBR1MsUUFBUTtJQUNsQ1EsUUFBUWpCLHVDQUFRLEdBQUdTLFFBQVE7SUFDM0Isa0JBQWtCO0lBQ2xCUyxhQUFhbEIsdUNBQVEsR0FBR1MsUUFBUTtJQUNoQyxjQUFjO0lBQ2RVLGNBQWNuQix1Q0FBUSxHQUFHUyxRQUFRO0lBQ2pDVyxhQUFhcEIsd0NBQU0sQ0FBQztRQUFDO1FBQWE7UUFBYTtLQUFZLEVBQUVTLFFBQVE7SUFDckUsZ0JBQWdCO0lBQ2hCWSxjQUFjckIsd0NBQU0sQ0FBQztRQUFDO1FBQWE7S0FBYSxFQUFFTSxPQUFPLENBQUM7QUFDNUQsR0FBR2dCLE1BQU0sQ0FBQyxDQUFDQztJQUNULCtCQUErQjtJQUMvQixJQUFJQSxLQUFLbkIsU0FBUyxLQUFLLFFBQVE7UUFDN0IsT0FBT21CLEtBQUtoQixNQUFNLElBQUlnQixLQUFLWCxPQUFPO0lBQ3BDLE9BQU8sSUFBSVcsS0FBS25CLFNBQVMsS0FBSyxZQUFZO1FBQ3hDLE9BQU9tQixLQUFLTCxXQUFXLElBQUlLLEtBQUtYLE9BQU87SUFD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RXlCLFFBQVE7UUFBSTtJQUNuQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdmlkZW8tc3R1ZGlvLy4vYXBwL2FwaS9hZG9iZS1hdmF0YXIvZ2VuZXJhdGUvcm91dGUudHM/M2ZkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJ1xuaW1wb3J0IHsgQWRvYmVBdmF0YXJBUEkgfSBmcm9tICdAL2xpYi9hcGlzL2Fkb2JlLWF2YXRhcidcblxuY29uc3QgQWRvYmVBdmF0YXJTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGlucHV0VHlwZTogei5lbnVtKFsndGV4dCcsICd0ZXh0RmlsZScsICdhdWRpbyddKS5kZWZhdWx0KCd0ZXh0JyksXG4gIHByb21wdDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBhdmF0YXJJZDogei5zdHJpbmcoKS5taW4oMSwgJ0F2YXRhciBJRCBpcyByZXF1aXJlZCcpLFxuICB2b2ljZUlkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGxvY2FsZUNvZGU6IHouc3RyaW5nKCkuZGVmYXVsdCgnZW4tVVMnKSxcbiAgYmFja2dyb3VuZFR5cGU6IHouZW51bShbJ2NvbG9yJywgJ3RyYW5zcGFyZW50JywgJ2ltYWdlJywgJ3ZpZGVvJ10pLm9wdGlvbmFsKCksXG4gIGJhY2tncm91bmRDb2xvcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBiYWNrZ3JvdW5kVXJsOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHVzZXJJZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAvLyBUZXh0IGZpbGUgaW5wdXRcbiAgdGV4dEZpbGVVcmw6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgLy8gQXVkaW8gaW5wdXRcbiAgYXVkaW9GaWxlVXJsOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGF1ZGlvRm9ybWF0OiB6LmVudW0oWydhdWRpby93YXYnLCAnYXVkaW8vbXAzJywgJ2F1ZGlvL200YSddKS5vcHRpb25hbCgpLFxuICAvLyBPdXRwdXQgZm9ybWF0XG4gIG91dHB1dEZvcm1hdDogei5lbnVtKFsndmlkZW8vbXA0JywgJ3ZpZGVvL3dlYm0nXSkuZGVmYXVsdCgndmlkZW8vbXA0JyksXG59KS5yZWZpbmUoKGRhdGEpID0+IHtcbiAgLy8gVmFsaWRhdGUgYmFzZWQgb24gaW5wdXQgdHlwZVxuICBpZiAoZGF0YS5pbnB1dFR5cGUgPT09ICd0ZXh0Jykge1xuICAgIHJldHVybiBkYXRhLnByb21wdCAmJiBkYXRhLnZvaWNlSWRcbiAgfSBlbHNlIGlmIChkYXRhLmlucHV0VHlwZSA9PT0gJ3RleHRGaWxlJykge1xuICAgIHJldHVybiBkYXRhLnRleHRGaWxlVXJsICYmIGRhdGEudm9pY2VJZFxuICB9IGVsc2UgaWYgKGRhdGEuaW5wdXRUeXBlID09PSAnYXVkaW8nKSB7XG4gICAgcmV0dXJuIGRhdGEuYXVkaW9GaWxlVXJsXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59LCB7XG4gIG1lc3NhZ2U6IFwiSW52YWxpZCBpbnB1dCBwYXJhbWV0ZXJzIGZvciB0aGUgc3BlY2lmaWVkIGlucHV0IHR5cGVcIlxufSlcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbiAgICBjb25zdCB2YWxpZGF0ZWREYXRhID0gQWRvYmVBdmF0YXJTY2hlbWEucGFyc2UoYm9keSlcblxuICAgIGNvbnN0IGFkb2JlQVBJID0gbmV3IEFkb2JlQXZhdGFyQVBJKHtcbiAgICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5BRE9CRV9DTElFTlRfSUQgfHwgJycsXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkFET0JFX0NMSUVOVF9TRUNSRVQgfHwgJydcbiAgICB9KVxuXG4gICAgLy8gQ2hlY2sgaWYgd2UncmUgaW4gZGVtbyBtb2RlXG4gICAgY29uc3QgaXNEZW1vTW9kZSA9IGZhbHNlIC8vIFVzaW5nIHJlYWwgQWRvYmUgY3JlZGVudGlhbHNcbiAgICBpZiAoaXNEZW1vTW9kZSkge1xuICAgICAgY29uc29sZS5sb2coJ1J1bm5pbmcgaW4gZGVtbyBtb2RlIC0gQWRvYmUgY3JlZGVudGlhbHMgbm90IGNvbmZpZ3VyZWQnKVxuICAgIH1cblxuICAgIGxldCByZXN1bHRcblxuICAgIHN3aXRjaCAodmFsaWRhdGVkRGF0YS5pbnB1dFR5cGUpIHtcbiAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICByZXN1bHQgPSBhd2FpdCBhZG9iZUFQSS5nZW5lcmF0ZUZyb21UZXh0KHtcbiAgICAgICAgICB0ZXh0OiB2YWxpZGF0ZWREYXRhLnByb21wdCEsXG4gICAgICAgICAgYXZhdGFySWQ6IHZhbGlkYXRlZERhdGEuYXZhdGFySWQsXG4gICAgICAgICAgdm9pY2VJZDogdmFsaWRhdGVkRGF0YS52b2ljZUlkISxcbiAgICAgICAgICBsb2NhbGVDb2RlOiB2YWxpZGF0ZWREYXRhLmxvY2FsZUNvZGUsXG4gICAgICAgICAgYmFja2dyb3VuZFR5cGU6IHZhbGlkYXRlZERhdGEuYmFja2dyb3VuZFR5cGUsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB2YWxpZGF0ZWREYXRhLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICBiYWNrZ3JvdW5kVXJsOiB2YWxpZGF0ZWREYXRhLmJhY2tncm91bmRVcmwsXG4gICAgICAgICAgb3V0cHV0Rm9ybWF0OiB2YWxpZGF0ZWREYXRhLm91dHB1dEZvcm1hdFxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICd0ZXh0RmlsZSc6XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IGFkb2JlQVBJLmdlbmVyYXRlRnJvbVRleHRGaWxlKHtcbiAgICAgICAgICB0ZXh0RmlsZVVybDogdmFsaWRhdGVkRGF0YS50ZXh0RmlsZVVybCEsXG4gICAgICAgICAgYXZhdGFySWQ6IHZhbGlkYXRlZERhdGEuYXZhdGFySWQsXG4gICAgICAgICAgdm9pY2VJZDogdmFsaWRhdGVkRGF0YS52b2ljZUlkISxcbiAgICAgICAgICBsb2NhbGVDb2RlOiB2YWxpZGF0ZWREYXRhLmxvY2FsZUNvZGUsXG4gICAgICAgICAgYmFja2dyb3VuZFR5cGU6IHZhbGlkYXRlZERhdGEuYmFja2dyb3VuZFR5cGUsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB2YWxpZGF0ZWREYXRhLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICBiYWNrZ3JvdW5kVXJsOiB2YWxpZGF0ZWREYXRhLmJhY2tncm91bmRVcmwsXG4gICAgICAgICAgb3V0cHV0Rm9ybWF0OiB2YWxpZGF0ZWREYXRhLm91dHB1dEZvcm1hdFxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdhdWRpbyc6XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IGFkb2JlQVBJLmdlbmVyYXRlRnJvbUF1ZGlvKHtcbiAgICAgICAgICBhdWRpb0ZpbGVVcmw6IHZhbGlkYXRlZERhdGEuYXVkaW9GaWxlVXJsISxcbiAgICAgICAgICBhdmF0YXJJZDogdmFsaWRhdGVkRGF0YS5hdmF0YXJJZCxcbiAgICAgICAgICBhdWRpb0Zvcm1hdDogdmFsaWRhdGVkRGF0YS5hdWRpb0Zvcm1hdCxcbiAgICAgICAgICBsb2NhbGVDb2RlOiB2YWxpZGF0ZWREYXRhLmxvY2FsZUNvZGUsXG4gICAgICAgICAgYmFja2dyb3VuZFR5cGU6IHZhbGlkYXRlZERhdGEuYmFja2dyb3VuZFR5cGUsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB2YWxpZGF0ZWREYXRhLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICBiYWNrZ3JvdW5kVXJsOiB2YWxpZGF0ZWREYXRhLmJhY2tncm91bmRVcmwsXG4gICAgICAgICAgb3V0cHV0Rm9ybWF0OiB2YWxpZGF0ZWREYXRhLm91dHB1dEZvcm1hdFxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW5wdXQgdHlwZScpXG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGpvYklkOiByZXN1bHQuam9iSWQsXG4gICAgICAgIHN0YXR1czogcmVzdWx0LnN0YXR1cyxcbiAgICAgICAgbWVzc2FnZTogaXNEZW1vTW9kZSBcbiAgICAgICAgICA/ICdBZG9iZSBBdmF0YXIgQVBJIG5vdCBhY2Nlc3NpYmxlLCB1c2luZyBkZW1vIG1vZGUgKGNyZWRlbnRpYWxzIGNvbmZpZ3VyZWQpJ1xuICAgICAgICAgIDogJ0Fkb2JlIEF2YXRhciB2aWRlbyBnZW5lcmF0aW9uIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgZGVtb01vZGU6IGlzRGVtb01vZGUsXG4gICAgICAgIGhhc0NyZWRlbnRpYWxzOiB0cnVlXG4gICAgICB9XG4gICAgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Fkb2JlIEF2YXRhciBnZW5lcmF0aW9uIGVycm9yOicsIGVycm9yKVxuICAgIFxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIHouWm9kRXJyb3IpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ1ZhbGlkYXRpb24gZXJyb3InLFxuICAgICAgICBkZXRhaWxzOiBlcnJvci5pc3N1ZXMgfHwgW11cbiAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicsXG4gICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xuICAgIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpXG4gICAgY29uc3Qgam9iSWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdqb2JJZCcpXG4gICAgY29uc3Qgc3RhdHVzVXJsID0gc2VhcmNoUGFyYW1zLmdldCgnc3RhdHVzVXJsJylcblxuICAgIGlmICgham9iSWQgJiYgIXN0YXR1c1VybCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnRWl0aGVyIEpvYiBJRCBvciBTdGF0dXMgVVJMIGlzIHJlcXVpcmVkJ1xuICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgIH1cblxuICAgIGNvbnN0IGFkb2JlQVBJID0gbmV3IEFkb2JlQXZhdGFyQVBJKHtcbiAgICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5BRE9CRV9DTElFTlRfSUQgLFxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5BRE9CRV9DTElFTlRfU0VDUkVUXG4gICAgfSlcblxuICAgIGxldCByZXN1bHRcbiAgICBpZiAoc3RhdHVzVXJsKSB7XG4gICAgICAvLyBVc2UgdGhlIHN0YXR1cyBVUkwgZGlyZWN0bHkgKG1vcmUgcmVsaWFibGUpXG4gICAgICByZXN1bHQgPSBhd2FpdCBhZG9iZUFQSS5nZXRKb2JTdGF0dXNCeVVybChzdGF0dXNVcmwpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFVzZSBqb2IgSUQgdG8gY29uc3RydWN0IHRoZSBzdGF0dXMgZW5kcG9pbnRcbiAgICAgIHJlc3VsdCA9IGF3YWl0IGFkb2JlQVBJLmdldEpvYlN0YXR1cyhqb2JJZCEpXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGlzRGVtb01vZGUgPSBmYWxzZSAvLyBVc2luZyByZWFsIEFkb2JlIGNyZWRlbnRpYWxzXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICBkZW1vTW9kZTogaXNEZW1vTW9kZSxcbiAgICAgICAgaGFzQ3JlZGVudGlhbHM6IHRydWVcbiAgICAgIH1cbiAgICB9KVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignR2V0IEFkb2JlIEF2YXRhciBqb2Igc3RhdHVzIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyxcbiAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59XG5cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJ6IiwiQWRvYmVBdmF0YXJBUEkiLCJBZG9iZUF2YXRhclNjaGVtYSIsIm9iamVjdCIsImlucHV0VHlwZSIsImVudW0iLCJkZWZhdWx0IiwicHJvbXB0Iiwic3RyaW5nIiwib3B0aW9uYWwiLCJhdmF0YXJJZCIsIm1pbiIsInZvaWNlSWQiLCJsb2NhbGVDb2RlIiwiYmFja2dyb3VuZFR5cGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kVXJsIiwidXNlcklkIiwidGV4dEZpbGVVcmwiLCJhdWRpb0ZpbGVVcmwiLCJhdWRpb0Zvcm1hdCIsIm91dHB1dEZvcm1hdCIsInJlZmluZSIsImRhdGEiLCJtZXNzYWdlIiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsInZhbGlkYXRlZERhdGEiLCJwYXJzZSIsImFkb2JlQVBJIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiQURPQkVfQ0xJRU5UX0lEIiwiY2xpZW50U2VjcmV0IiwiQURPQkVfQ0xJRU5UX1NFQ1JFVCIsImlzRGVtb01vZGUiLCJjb25zb2xlIiwibG9nIiwicmVzdWx0IiwiZ2VuZXJhdGVGcm9tVGV4dCIsInRleHQiLCJnZW5lcmF0ZUZyb21UZXh0RmlsZSIsImdlbmVyYXRlRnJvbUF1ZGlvIiwiRXJyb3IiLCJzdWNjZXNzIiwiam9iSWQiLCJzdGF0dXMiLCJkZW1vTW9kZSIsImhhc0NyZWRlbnRpYWxzIiwiZXJyb3IiLCJab2RFcnJvciIsImRldGFpbHMiLCJpc3N1ZXMiLCJHRVQiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJnZXQiLCJzdGF0dXNVcmwiLCJnZXRKb2JTdGF0dXNCeVVybCIsImdldEpvYlN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/adobe-avatar/generate/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/apis/adobe-avatar.ts":
/*!**********************************!*\
  !*** ./lib/apis/adobe-avatar.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdobeAvatarAPI: () => (/* binding */ AdobeAvatarAPI)\n/* harmony export */ });\nclass AdobeAvatarAPI {\n    constructor(config){\n        this.baseUrl = \"https://audio-video-api.adobe.io/v1\";\n        this.cachedToken = null;\n        this.config = {\n            clientId: config.clientId || process.env.ADOBE_CLIENT_ID || \"\",\n            clientSecret: config.clientSecret || process.env.ADOBE_CLIENT_SECRET || \"\"\n        };\n    }\n    async getAccessToken() {\n        if (this.cachedToken && Date.now() < this.cachedToken.expiry) {\n            return this.cachedToken.accessToken;\n        }\n        const url = \"https://ims-na1.adobelogin.com/ims/token/v3\";\n        const { clientId, clientSecret } = this.config;\n        if (!clientId || !clientSecret) {\n            throw new Error(\"Adobe client ID or client secret is not configured\");\n        }\n        const params = new URLSearchParams();\n        params.append(\"grant_type\", \"client_credentials\");\n        params.append(\"client_id\", clientId);\n        params.append(\"client_secret\", clientSecret);\n        params.append(\"scope\", \"openid,AdobeID,firefly_enterprise\");\n        try {\n            const response = await fetch(url, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/x-www-form-urlencoded\"\n                },\n                body: params\n            });\n            if (!response.ok) {\n                throw new Error(`Failed: ${response.status} ${response.statusText}`);\n            }\n            const data = await response.json();\n            // console.log(data);\n            // console.log(\"✅ Adobe Access Token acquired\");\n            // return data.access_token as string;\n            this.cachedToken = {\n                accessToken: data.access_token,\n                expiry: Date.now() + data.expires_in * 1000 // use Adobe's expiry\n            };\n            return this.cachedToken.accessToken;\n        } catch (error) {\n            console.error(\"❌ Error fetching Adobe access token:\", error.message);\n            return null;\n        }\n    }\n    async makeRequest(endpoint, options = {}) {\n        const token = await this.getAccessToken();\n        // console.log(token);\n        const avat = \"https://audio-video-api.adobe.io/v1/\";\n        const response = await fetch(`${avat}${endpoint}`, {\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`,\n                \"x-api-key\": this.config.clientId,\n                ...options.headers\n            }\n        });\n        if (!response.ok) {\n            const error = await response.text();\n            let errorMessage = `Adobe API Error: ${response.status} - ${error}`;\n            // Provide more specific error messages for common issues\n            if (response.status === 422) {\n                try {\n                    const errorData = JSON.parse(error);\n                    if (errorData.error_code === \"validation_error\") {\n                        errorMessage = `Adobe API Validation Error: ${errorData.message || error}`;\n                    }\n                } catch (parseError) {\n                // If we can't parse the error, use the original message\n                }\n            } else if (response.status === 404) {\n                errorMessage = `Adobe API Error: Resource not found (404) - The requested job or endpoint may not exist. Error: ${error}`;\n            }\n            throw new Error(errorMessage);\n        }\n        return response.json();\n    }\n    async generateAvatarVideo(request) {\n        if (!this.config.clientId || !this.config.clientSecret) {\n            throw new Error(\"Adobe credentials not configured\");\n        }\n        console.log(request);\n        const token = await this.getAccessToken();\n        const baseUrl = \"https://audio-video-api.adobe.io/v1\";\n        try {\n            const response = await fetch(`${baseUrl}/generate-avatar`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": `Bearer ${token}`,\n                    \"x-api-key\": this.config.clientId\n                },\n                body: JSON.stringify(request)\n            });\n            if (!response.ok) {\n                const errText = await response.text();\n                throw new Error(`Adobe API failed: ${response.status} - ${response.statusText}\\n${errText}`);\n            }\n            const job = await response.json();\n            console.log(\"Job started:\", job);\n            return job;\n        } catch (error) {\n            console.error(\"Adobe API failed:\", error);\n            throw new Error(\"Adobe Avatar API not accessible\");\n        }\n    }\n    // Generate video from text input\n    async generateFromText(params) {\n        // Sanitize text input to remove unsupported characters\n        const sanitizedText = this.sanitizeText(params.text);\n        const request = {\n            script: {\n                text: sanitizedText,\n                mediaType: \"text/plain\",\n                localeCode: params.localeCode || \"en-US\"\n            },\n            voiceId: params.voiceId,\n            avatarId: params.avatarId,\n            output: {\n                mediaType: params.outputFormat || \"video/mp4\"\n            }\n        };\n        // Add background configuration if provided\n        if (params.backgroundType) {\n            request.output.background = {\n                type: params.backgroundType\n            };\n            if (params.backgroundType === \"color\" && params.backgroundColor) {\n                request.output.background.color = params.backgroundColor;\n            } else if ((params.backgroundType === \"image\" || params.backgroundType === \"video\") && params.backgroundUrl) {\n                request.output.background.source = {\n                    url: params.backgroundUrl\n                };\n            }\n        }\n        return this.generateAvatarVideo(request);\n    }\n    // Generate video from text file\n    async generateFromTextFile(params) {\n        const request = {\n            script: {\n                source: {\n                    url: params.textFileUrl\n                },\n                mediaType: \"text/plain\",\n                localeCode: params.localeCode || \"en-US\"\n            },\n            voiceId: params.voiceId,\n            avatarId: params.avatarId,\n            output: {\n                mediaType: params.outputFormat || \"video/mp4\"\n            }\n        };\n        // Add background configuration if provided\n        if (params.backgroundType) {\n            request.output.background = {\n                type: params.backgroundType\n            };\n            if (params.backgroundType === \"color\" && params.backgroundColor) {\n                request.output.background.color = params.backgroundColor;\n            } else if ((params.backgroundType === \"image\" || params.backgroundType === \"video\") && params.backgroundUrl) {\n                request.output.background.source = {\n                    url: params.backgroundUrl\n                };\n            }\n        }\n        return this.generateAvatarVideo(request);\n    }\n    // Generate video from audio file\n    async generateFromAudio(params) {\n        const request = {\n            audio: {\n                source: {\n                    url: params.audioFileUrl\n                },\n                mediaType: params.audioFormat || \"audio/wav\",\n                localeCode: params.localeCode || \"en-US\"\n            },\n            avatarId: params.avatarId,\n            output: {\n                mediaType: params.outputFormat || \"video/mp4\"\n            }\n        };\n        // Add background configuration if provided\n        if (params.backgroundType) {\n            request.output.background = {\n                type: params.backgroundType\n            };\n            if (params.backgroundType === \"color\" && params.backgroundColor) {\n                request.output.background.color = params.backgroundColor;\n            } else if ((params.backgroundType === \"image\" || params.backgroundType === \"video\") && params.backgroundUrl) {\n                request.output.background.source = {\n                    url: params.backgroundUrl\n                };\n            }\n        }\n        return this.generateAvatarVideo(request);\n    }\n    async getJobStatus(jobId) {\n        if (!this.config.clientId || !this.config.clientSecret || this.config.clientId === \"\") {\n            throw new Error(\"Adobe credentials not configured\");\n        }\n        if (!jobId || typeof jobId !== \"string\" || jobId.trim() === \"\") {\n            throw new Error(\"Invalid job ID provided\");\n        }\n        console.log(`Checking job status for jobId: ${jobId}`);\n        const token = await this.getAccessToken();\n        try {\n            // Use the correct Adobe Audio Video API status endpoint\n            const endpoint = `${this.baseUrl}/status/${jobId}`;\n            const result = await fetch(endpoint, {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": `Bearer ${token}`,\n                    \"x-api-key\": this.config.clientId\n                }\n            });\n            if (!result.ok) {\n                console.log(`Adobe API returned status ${result.status}`);\n                if (result.status === 404) {\n                    // Job might not be ready yet or doesn't exist\n                    return {\n                        jobId,\n                        status: \"processing\"\n                    };\n                }\n                throw new Error(`Adobe API Error: ${result.status} - ${result.statusText}`);\n            }\n            const data = await result.json();\n            console.log(`Job status response for ${jobId}:`, data);\n            return data;\n        } catch (error) {\n            console.log(\"Adobe API failed:\", error);\n            return {\n                jobId,\n                status: \"processing\"\n            };\n        }\n    }\n    async getJobStatusByUrl(statusUrl) {\n        if (!this.config.clientId || !this.config.clientSecret || this.config.clientId === \"\") {\n            throw new Error(\"Adobe credentials not configured\");\n        }\n        if (!statusUrl || typeof statusUrl !== \"string\" || statusUrl.trim() === \"\") {\n            throw new Error(\"Invalid status URL provided\");\n        }\n        console.log(`Checking job status using statusUrl: ${statusUrl}`);\n        const token = await this.getAccessToken();\n        try {\n            const result = await fetch(statusUrl, {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": `Bearer ${token}`,\n                    \"x-api-key\": this.config.clientId\n                }\n            });\n            if (!result.ok) {\n                console.log(`Adobe API returned status ${result.status}`);\n                if (result.status === 404) {\n                    // Job might not be ready yet or doesn't exist\n                    const jobId = statusUrl.split(\"/\").pop() || \"unknown\";\n                    return {\n                        jobId,\n                        status: \"processing\"\n                    };\n                }\n                throw new Error(`Adobe API Error: ${result.status} - ${result.statusText}`);\n            }\n            const data = await result.json();\n            console.log(`Job status response from URL:`, data);\n            return data;\n        } catch (error) {\n            console.log(\"Adobe API failed:\", error);\n            const jobId = statusUrl.split(\"/\").pop() || \"unknown\";\n            return {\n                jobId,\n                status: \"processing\"\n            };\n        }\n    }\n    getDemoJobStatus(jobId) {\n        // Return processing status - no demo video URLs\n        return {\n            jobId,\n            status: \"processing\"\n        };\n    }\n    sanitizeText(text) {\n        // Remove emojis and special symbols that Adobe API doesn't support\n        return text// Remove common emojis and symbols\n        .replace(/[\\u2600-\\u26FF]/g, \"\") // Miscellaneous symbols\n        .replace(/[\\u2700-\\u27BF]/g, \"\") // Dingbats\n        .replace(/[\\uD83C-\\uD83D][\\uDC00-\\uDFFF]/g, \"\") // Emoticons and symbols\n        .replace(/[\\uD83E][\\uDD00-\\uDDFF]/g, \"\") // Supplemental symbols\n        // Remove other special characters\n        .replace(/[^\\w\\s.,!?;:'\"()-]/g, \"\") // Keep only alphanumeric, spaces, and basic punctuation\n        // Clean up multiple spaces\n        .replace(/\\s+/g, \" \")// Trim whitespace\n        .trim();\n    }\n    async getAvatars() {\n        try {\n            const response = await this.makeRequest(\"/avatars\");\n            const avatars = response?.data;\n            if (avatars && Array.isArray(avatars) && avatars.length > 0) {\n                return avatars.map((avatar)=>({\n                        id: avatar.avatarId,\n                        name: avatar.displayName,\n                        description: `${avatar.clothingStyle} ${avatar.ageGroup} ${avatar.ethnicity}`,\n                        thumbnail: avatar.thumbnailUrls?.lowRes || avatar.thumbnailUrls?.hd || \"\",\n                        gender: avatar.gender.toLowerCase(),\n                        age: avatar.ageGroup,\n                        ethnicity: avatar.ethnicity\n                    }));\n            }\n            return response;\n        } catch (error) {\n            console.error(\"Error fetching avatars:\", error);\n            return [];\n        }\n    }\n    async getVoices() {\n        try {\n            const response = await this.makeRequest(\"/voices\");\n            // Handle different response structures from Adobe API\n            let voicesData = response;\n            // If response has a data property, use that\n            if (response && response.data && Array.isArray(response.data)) {\n                voicesData = response.data;\n            } else if (response && Array.isArray(response)) {\n                voicesData = response;\n            } else if (response && response.voices && Array.isArray(response.voices)) {\n                voicesData = response.voices;\n            } else {\n                console.log(\"Unexpected voices response structure:\", response);\n                return [];\n            }\n            // Map Adobe voice data to our interface\n            if (voicesData && Array.isArray(voicesData) && voicesData.length > 0) {\n                return voicesData.map((voice)=>({\n                        voiceId: voice.voiceId,\n                        displayName: voice.displayName || voice.name || \"Unknown Voice\",\n                        style: voice.style || voice.accent || \"Standard\",\n                        gender: voice.gender || \"unknown\",\n                        language: voice.language || \"en-US\",\n                        accent: voice.accent || voice.region || \"Standard\",\n                        sampleURL: voice.sampleURL || null\n                    }));\n            }\n            return [];\n        } catch (error) {\n            console.error(\"Error fetching voices:\", error);\n            return [];\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TWYsV0FBVyxJQUFJZSxNQUFNaEIsSUFBSSxJQUFJO3dCQUNoRGlCLE9BQU9ELE1BQU1DLEtBQUssSUFBSUQsTUFBTUUsTUFBTSxJQUFJO3dCQUN0Q1IsUUFBUU0sTUFBTU4sTUFBTSxJQUFJO3dCQUN4QlMsVUFBVUgsTUFBTUcsUUFBUSxJQUFJO3dCQUM1QkQsUUFBUUYsTUFBTUUsTUFBTSxJQUFJRixNQUFNSSxNQUFNLElBQUk7d0JBQ3hDQyxXQUFXTCxNQUFNSyxTQUFTLElBQUk7b0JBQ2hDO1lBQ0Y7WUFFQSxPQUFPLEVBQUU7UUFDWCxFQUFFLE9BQU9uRixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQywwQkFBMEJBO1lBQ3hDLE9BQU8sRUFBRTtRQUNYO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXZpZGVvLXN0dWRpby8uL2xpYi9hcGlzL2Fkb2JlLWF2YXRhci50cz83M2NmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvZyB9IGZyb20gXCJjb25zb2xlXCJcblxuaW50ZXJmYWNlIEFkb2JlQXZhdGFyQ29uZmlnIHtcbiAgY2xpZW50SWQ6IHN0cmluZ1xuICBjbGllbnRTZWNyZXQ6IHN0cmluZ1xuICBhY2Nlc3NUb2tlbj86IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgU2NyaXB0SW5wdXQge1xuICB0ZXh0OiBzdHJpbmdcbiAgbWVkaWFUeXBlOiAndGV4dC9wbGFpbidcbiAgbG9jYWxlQ29kZTogc3RyaW5nXG59XG5cbmludGVyZmFjZSBTY3JpcHRGaWxlSW5wdXQge1xuICBzb3VyY2U6IHtcbiAgICB1cmw6IHN0cmluZ1xuICB9XG4gIG1lZGlhVHlwZTogJ3RleHQvcGxhaW4nXG4gIGxvY2FsZUNvZGU6IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgQXVkaW9JbnB1dCB7XG4gIHNvdXJjZToge1xuICAgIHVybDogc3RyaW5nXG4gIH1cbiAgbWVkaWFUeXBlOiAnYXVkaW8vd2F2JyB8ICdhdWRpby9tcDMnIHwgJ2F1ZGlvL200YSdcbiAgbG9jYWxlQ29kZTogc3RyaW5nXG59XG5cbmludGVyZmFjZSBCYWNrZ3JvdW5kQ29uZmlnIHtcbiAgdHlwZTogJ2NvbG9yJyB8ICd0cmFuc3BhcmVudCcgfCAnaW1hZ2UnIHwgJ3ZpZGVvJ1xuICBjb2xvcj86IHN0cmluZ1xuICBzb3VyY2U/OiB7XG4gICAgdXJsOiBzdHJpbmdcbiAgfVxufVxuXG5pbnRlcmZhY2UgQXZhdGFyR2VuZXJhdGlvblJlcXVlc3Qge1xuICBzY3JpcHQ/OiBTY3JpcHRJbnB1dCB8IFNjcmlwdEZpbGVJbnB1dFxuICBhdWRpbz86IEF1ZGlvSW5wdXRcbiAgdm9pY2VJZD86IHN0cmluZ1xuICBhdmF0YXJJZDogc3RyaW5nXG4gIG91dHB1dDoge1xuICAgIG1lZGlhVHlwZTogJ3ZpZGVvL21wNCcgfCAndmlkZW8vd2VibSdcbiAgICBiYWNrZ3JvdW5kPzogQmFja2dyb3VuZENvbmZpZ1xuICB9XG59XG5cbmludGVyZmFjZSBBdmF0YXJHZW5lcmF0aW9uUmVzcG9uc2Uge1xuICBqb2JJZDogc3RyaW5nXG4gIHN0YXR1czogc3RyaW5nXG4gIG91dHB1dD86IHtcbiAgICBkZXN0aW5hdGlvbjoge1xuICAgICAgdXJsOiBzdHJpbmdcbiAgICB9XG4gIH1cbn1cblxuaW50ZXJmYWNlIEF2YXRhciB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgdGh1bWJuYWlsOiBzdHJpbmdcbiAgZ2VuZGVyOiAnbWFsZScgfCAnZmVtYWxlJ1xuICBhZ2U6IHN0cmluZ1xuICBldGhuaWNpdHk6IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgVm9pY2Uge1xuICB2b2ljZUlkOiBzdHJpbmdcbiAgZGlzcGxheU5hbWU6IHN0cmluZ1xuICBzdHlsZTogc3RyaW5nXG4gIGdlbmRlcjogc3RyaW5nXG4gIGxhbmd1YWdlOiBzdHJpbmdcbiAgYWNjZW50OiBzdHJpbmdcbiAgc2FtcGxlVVJMPzogc3RyaW5nXG59XG5cbmV4cG9ydCBjbGFzcyBBZG9iZUF2YXRhckFQSSB7XG4gIHByaXZhdGUgY29uZmlnOiBBZG9iZUF2YXRhckNvbmZpZ1xuICBwcml2YXRlIGJhc2VVcmwgPSAnaHR0cHM6Ly9hdWRpby12aWRlby1hcGkuYWRvYmUuaW8vdjEnXG4gIHByaXZhdGUgY2FjaGVkVG9rZW46IHsgYWNjZXNzVG9rZW46IHN0cmluZzsgZXhwaXJ5OiBudW1iZXIgfSB8IG51bGwgPSBudWxsO1xuXG4gIFxuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQWRvYmVBdmF0YXJDb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIGNsaWVudElkOiBjb25maWcuY2xpZW50SWQgfHwgcHJvY2Vzcy5lbnYuQURPQkVfQ0xJRU5UX0lEIHx8ICcnLFxuICAgICAgY2xpZW50U2VjcmV0OiBjb25maWcuY2xpZW50U2VjcmV0IHx8IHByb2Nlc3MuZW52LkFET0JFX0NMSUVOVF9TRUNSRVQgfHwgJycsXG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFzeW5jIGdldEFjY2Vzc1Rva2VuKCk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICBcblxuICAgIGlmICh0aGlzLmNhY2hlZFRva2VuICYmIERhdGUubm93KCkgPCB0aGlzLmNhY2hlZFRva2VuLmV4cGlyeSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkVG9rZW4uYWNjZXNzVG9rZW47XG4gICAgfVxuICAgICAgICBcbiAgXG4gICAgY29uc3QgdXJsID0gXCJodHRwczovL2ltcy1uYTEuYWRvYmVsb2dpbi5jb20vaW1zL3Rva2VuL3YzXCI7XG4gICAgY29uc3QgeyBjbGllbnRJZCwgY2xpZW50U2VjcmV0IH0gPSB0aGlzLmNvbmZpZztcbiAgXG4gICAgaWYgKCFjbGllbnRJZCB8fCAhY2xpZW50U2VjcmV0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBZG9iZSBjbGllbnQgSUQgb3IgY2xpZW50IHNlY3JldCBpcyBub3QgY29uZmlndXJlZFwiKTtcbiAgICB9XG4gIFxuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBwYXJhbXMuYXBwZW5kKFwiZ3JhbnRfdHlwZVwiLCBcImNsaWVudF9jcmVkZW50aWFsc1wiKTtcbiAgICBwYXJhbXMuYXBwZW5kKFwiY2xpZW50X2lkXCIsIGNsaWVudElkKTtcbiAgICBwYXJhbXMuYXBwZW5kKFwiY2xpZW50X3NlY3JldFwiLCBjbGllbnRTZWNyZXQpO1xuICAgIHBhcmFtcy5hcHBlbmQoXCJzY29wZVwiLCBcIm9wZW5pZCxBZG9iZUlELGZpcmVmbHlfZW50ZXJwcmlzZVwiKTtcbiAgXG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiIH0sXG4gICAgICAgIGJvZHk6IHBhcmFtcyxcbiAgICAgIH0pO1xuICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQ6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICB9XG4gIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgXG4gICAgICAvLyBjb25zb2xlLmxvZyhcIuKchSBBZG9iZSBBY2Nlc3MgVG9rZW4gYWNxdWlyZWRcIik7XG4gICAgICAvLyByZXR1cm4gZGF0YS5hY2Nlc3NfdG9rZW4gYXMgc3RyaW5nO1xuXG4gICAgICB0aGlzLmNhY2hlZFRva2VuID0ge1xuICAgICAgICBhY2Nlc3NUb2tlbjogZGF0YS5hY2Nlc3NfdG9rZW4sXG4gICAgICAgIGV4cGlyeTogRGF0ZS5ub3coKSArIGRhdGEuZXhwaXJlc19pbiAqIDEwMDAgLy8gdXNlIEFkb2JlJ3MgZXhwaXJ5XG4gICAgICB9O1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlZFRva2VuLmFjY2Vzc1Rva2VuO1xuXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBFcnJvciBmZXRjaGluZyBBZG9iZSBhY2Nlc3MgdG9rZW46XCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIFxuXG4gIHByaXZhdGUgYXN5bmMgbWFrZVJlcXVlc3QoZW5kcG9pbnQ6IHN0cmluZywgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7fSk6IFByb21pc2U8YW55PiB7XG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmdldEFjY2Vzc1Rva2VuKClcblxuICAgIC8vIGNvbnNvbGUubG9nKHRva2VuKTtcbiAgICBcblxuICAgIGNvbnN0IGF2YXQgPSAnaHR0cHM6Ly9hdWRpby12aWRlby1hcGkuYWRvYmUuaW8vdjEvJ1xuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YXZhdH0ke2VuZHBvaW50fWAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgICd4LWFwaS1rZXknOiB0aGlzLmNvbmZpZy5jbGllbnRJZCxcbiAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzXG4gICAgICB9XG4gICAgfSlcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpXG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gYEFkb2JlIEFQSSBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9IC0gJHtlcnJvcn1gXG4gICAgICBcbiAgICAgIC8vIFByb3ZpZGUgbW9yZSBzcGVjaWZpYyBlcnJvciBtZXNzYWdlcyBmb3IgY29tbW9uIGlzc3Vlc1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDIyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gSlNPTi5wYXJzZShlcnJvcilcbiAgICAgICAgICBpZiAoZXJyb3JEYXRhLmVycm9yX2NvZGUgPT09ICd2YWxpZGF0aW9uX2Vycm9yJykge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gYEFkb2JlIEFQSSBWYWxpZGF0aW9uIEVycm9yOiAke2Vycm9yRGF0YS5tZXNzYWdlIHx8IGVycm9yfWBcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiB3ZSBjYW4ndCBwYXJzZSB0aGUgZXJyb3IsIHVzZSB0aGUgb3JpZ2luYWwgbWVzc2FnZVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGBBZG9iZSBBUEkgRXJyb3I6IFJlc291cmNlIG5vdCBmb3VuZCAoNDA0KSAtIFRoZSByZXF1ZXN0ZWQgam9iIG9yIGVuZHBvaW50IG1heSBub3QgZXhpc3QuIEVycm9yOiAke2Vycm9yfWBcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXG4gIH1cbiAgXG5cbiAgYXN5bmMgZ2VuZXJhdGVBdmF0YXJWaWRlbyhyZXF1ZXN0OiBBdmF0YXJHZW5lcmF0aW9uUmVxdWVzdCk6IFByb21pc2U8QXZhdGFyR2VuZXJhdGlvblJlc3BvbnNlPiB7XG4gICAgaWYgKCF0aGlzLmNvbmZpZy5jbGllbnRJZCB8fCAhdGhpcy5jb25maWcuY2xpZW50U2VjcmV0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fkb2JlIGNyZWRlbnRpYWxzIG5vdCBjb25maWd1cmVkJyk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKHJlcXVlc3QpO1xuICAgIFxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy5nZXRBY2Nlc3NUb2tlbigpO1xuICAgIGNvbnN0IGJhc2VVcmwgPSAnaHR0cHM6Ly9hdWRpby12aWRlby1hcGkuYWRvYmUuaW8vdjEnO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vZ2VuZXJhdGUtYXZhdGFyYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICAneC1hcGkta2V5JzogdGhpcy5jb25maWcuY2xpZW50SWRcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdClcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVyclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQWRvYmUgQVBJIGZhaWxlZDogJHtyZXNwb25zZS5zdGF0dXN9IC0gJHtyZXNwb25zZS5zdGF0dXNUZXh0fVxcbiR7ZXJyVGV4dH1gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgam9iID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc29sZS5sb2coXCJKb2Igc3RhcnRlZDpcIiwgam9iKTtcblxuICAgICAgcmV0dXJuIGpvYjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQWRvYmUgQVBJIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fkb2JlIEF2YXRhciBBUEkgbm90IGFjY2Vzc2libGUnKTtcbiAgICB9XG4gIH1cblxuXG5cblxuICAvLyBHZW5lcmF0ZSB2aWRlbyBmcm9tIHRleHQgaW5wdXRcbiAgYXN5bmMgZ2VuZXJhdGVGcm9tVGV4dChwYXJhbXM6IHtcbiAgICB0ZXh0OiBzdHJpbmdcbiAgICBhdmF0YXJJZDogc3RyaW5nXG4gICAgdm9pY2VJZDogc3RyaW5nXG4gICAgbG9jYWxlQ29kZT86IHN0cmluZ1xuICAgIGJhY2tncm91bmRUeXBlPzogJ2NvbG9yJyB8ICd0cmFuc3BhcmVudCcgfCAnaW1hZ2UnIHwgJ3ZpZGVvJ1xuICAgIGJhY2tncm91bmRDb2xvcj86IHN0cmluZ1xuICAgIGJhY2tncm91bmRVcmw/OiBzdHJpbmdcbiAgICBvdXRwdXRGb3JtYXQ/OiAndmlkZW8vbXA0JyB8ICd2aWRlby93ZWJtJ1xuICB9KTogUHJvbWlzZTxBdmF0YXJHZW5lcmF0aW9uUmVzcG9uc2U+IHtcbiAgICAvLyBTYW5pdGl6ZSB0ZXh0IGlucHV0IHRvIHJlbW92ZSB1bnN1cHBvcnRlZCBjaGFyYWN0ZXJzXG4gICAgY29uc3Qgc2FuaXRpemVkVGV4dCA9IHRoaXMuc2FuaXRpemVUZXh0KHBhcmFtcy50ZXh0KVxuICAgIFxuICAgIGNvbnN0IHJlcXVlc3Q6IEF2YXRhckdlbmVyYXRpb25SZXF1ZXN0ID0ge1xuICAgICAgc2NyaXB0OiB7XG4gICAgICAgIHRleHQ6IHNhbml0aXplZFRleHQsXG4gICAgICAgIG1lZGlhVHlwZTogJ3RleHQvcGxhaW4nLFxuICAgICAgICBsb2NhbGVDb2RlOiBwYXJhbXMubG9jYWxlQ29kZSB8fCAnZW4tVVMnXG4gICAgICB9LFxuICAgICAgdm9pY2VJZDogcGFyYW1zLnZvaWNlSWQsXG4gICAgICBhdmF0YXJJZDogcGFyYW1zLmF2YXRhcklkLFxuICAgICAgb3V0cHV0OiB7XG4gICAgICAgIG1lZGlhVHlwZTogcGFyYW1zLm91dHB1dEZvcm1hdCB8fCAndmlkZW8vbXA0J1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBiYWNrZ3JvdW5kIGNvbmZpZ3VyYXRpb24gaWYgcHJvdmlkZWRcbiAgICBpZiAocGFyYW1zLmJhY2tncm91bmRUeXBlKSB7XG4gICAgICByZXF1ZXN0Lm91dHB1dC5iYWNrZ3JvdW5kID0ge1xuICAgICAgICB0eXBlOiBwYXJhbXMuYmFja2dyb3VuZFR5cGVcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5iYWNrZ3JvdW5kVHlwZSA9PT0gJ2NvbG9yJyAmJiBwYXJhbXMuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgIHJlcXVlc3Qub3V0cHV0LmJhY2tncm91bmQuY29sb3IgPSBwYXJhbXMuYmFja2dyb3VuZENvbG9yXG4gICAgICB9IGVsc2UgaWYgKChwYXJhbXMuYmFja2dyb3VuZFR5cGUgPT09ICdpbWFnZScgfHwgcGFyYW1zLmJhY2tncm91bmRUeXBlID09PSAndmlkZW8nKSAmJiBwYXJhbXMuYmFja2dyb3VuZFVybCkge1xuICAgICAgICByZXF1ZXN0Lm91dHB1dC5iYWNrZ3JvdW5kLnNvdXJjZSA9IHtcbiAgICAgICAgICB1cmw6IHBhcmFtcy5iYWNrZ3JvdW5kVXJsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZUF2YXRhclZpZGVvKHJlcXVlc3QpXG4gIH1cblxuICAvLyBHZW5lcmF0ZSB2aWRlbyBmcm9tIHRleHQgZmlsZVxuICBhc3luYyBnZW5lcmF0ZUZyb21UZXh0RmlsZShwYXJhbXM6IHtcbiAgICB0ZXh0RmlsZVVybDogc3RyaW5nXG4gICAgYXZhdGFySWQ6IHN0cmluZ1xuICAgIHZvaWNlSWQ6IHN0cmluZ1xuICAgIGxvY2FsZUNvZGU/OiBzdHJpbmdcbiAgICBiYWNrZ3JvdW5kVHlwZT86ICdjb2xvcicgfCAndHJhbnNwYXJlbnQnIHwgJ2ltYWdlJyB8ICd2aWRlbydcbiAgICBiYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmdcbiAgICBiYWNrZ3JvdW5kVXJsPzogc3RyaW5nXG4gICAgb3V0cHV0Rm9ybWF0PzogJ3ZpZGVvL21wNCcgfCAndmlkZW8vd2VibSdcbiAgfSk6IFByb21pc2U8QXZhdGFyR2VuZXJhdGlvblJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVxdWVzdDogQXZhdGFyR2VuZXJhdGlvblJlcXVlc3QgPSB7XG4gICAgICBzY3JpcHQ6IHtcbiAgICAgICAgc291cmNlOiB7XG4gICAgICAgICAgdXJsOiBwYXJhbXMudGV4dEZpbGVVcmxcbiAgICAgICAgfSxcbiAgICAgICAgbWVkaWFUeXBlOiAndGV4dC9wbGFpbicsXG4gICAgICAgIGxvY2FsZUNvZGU6IHBhcmFtcy5sb2NhbGVDb2RlIHx8ICdlbi1VUydcbiAgICAgIH0sXG4gICAgICB2b2ljZUlkOiBwYXJhbXMudm9pY2VJZCxcbiAgICAgIGF2YXRhcklkOiBwYXJhbXMuYXZhdGFySWQsXG4gICAgICBvdXRwdXQ6IHtcbiAgICAgICAgbWVkaWFUeXBlOiBwYXJhbXMub3V0cHV0Rm9ybWF0IHx8ICd2aWRlby9tcDQnXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkIGJhY2tncm91bmQgY29uZmlndXJhdGlvbiBpZiBwcm92aWRlZFxuICAgIGlmIChwYXJhbXMuYmFja2dyb3VuZFR5cGUpIHtcbiAgICAgIHJlcXVlc3Qub3V0cHV0LmJhY2tncm91bmQgPSB7XG4gICAgICAgIHR5cGU6IHBhcmFtcy5iYWNrZ3JvdW5kVHlwZVxuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLmJhY2tncm91bmRUeXBlID09PSAnY29sb3InICYmIHBhcmFtcy5iYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgcmVxdWVzdC5vdXRwdXQuYmFja2dyb3VuZC5jb2xvciA9IHBhcmFtcy5iYWNrZ3JvdW5kQ29sb3JcbiAgICAgIH0gZWxzZSBpZiAoKHBhcmFtcy5iYWNrZ3JvdW5kVHlwZSA9PT0gJ2ltYWdlJyB8fCBwYXJhbXMuYmFja2dyb3VuZFR5cGUgPT09ICd2aWRlbycpICYmIHBhcmFtcy5iYWNrZ3JvdW5kVXJsKSB7XG4gICAgICAgIHJlcXVlc3Qub3V0cHV0LmJhY2tncm91bmQuc291cmNlID0ge1xuICAgICAgICAgIHVybDogcGFyYW1zLmJhY2tncm91bmRVcmxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmdlbmVyYXRlQXZhdGFyVmlkZW8ocmVxdWVzdClcbiAgfVxuXG4gIC8vIEdlbmVyYXRlIHZpZGVvIGZyb20gYXVkaW8gZmlsZVxuICBhc3luYyBnZW5lcmF0ZUZyb21BdWRpbyhwYXJhbXM6IHtcbiAgICBhdWRpb0ZpbGVVcmw6IHN0cmluZ1xuICAgIGF2YXRhcklkOiBzdHJpbmdcbiAgICBhdWRpb0Zvcm1hdD86ICdhdWRpby93YXYnIHwgJ2F1ZGlvL21wMycgfCAnYXVkaW8vbTRhJ1xuICAgIGxvY2FsZUNvZGU/OiBzdHJpbmdcbiAgICBiYWNrZ3JvdW5kVHlwZT86ICdjb2xvcicgfCAndHJhbnNwYXJlbnQnIHwgJ2ltYWdlJyB8ICd2aWRlbydcbiAgICBiYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmdcbiAgICBiYWNrZ3JvdW5kVXJsPzogc3RyaW5nXG4gICAgb3V0cHV0Rm9ybWF0PzogJ3ZpZGVvL21wNCcgfCAndmlkZW8vd2VibSdcbiAgfSk6IFByb21pc2U8QXZhdGFyR2VuZXJhdGlvblJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVxdWVzdDogQXZhdGFyR2VuZXJhdGlvblJlcXVlc3QgPSB7XG4gICAgICBhdWRpbzoge1xuICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICB1cmw6IHBhcmFtcy5hdWRpb0ZpbGVVcmxcbiAgICAgICAgfSxcbiAgICAgICAgbWVkaWFUeXBlOiBwYXJhbXMuYXVkaW9Gb3JtYXQgfHwgJ2F1ZGlvL3dhdicsXG4gICAgICAgIGxvY2FsZUNvZGU6IHBhcmFtcy5sb2NhbGVDb2RlIHx8ICdlbi1VUydcbiAgICAgIH0sXG4gICAgICBhdmF0YXJJZDogcGFyYW1zLmF2YXRhcklkLFxuICAgICAgb3V0cHV0OiB7XG4gICAgICAgIG1lZGlhVHlwZTogcGFyYW1zLm91dHB1dEZvcm1hdCB8fCAndmlkZW8vbXA0J1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBiYWNrZ3JvdW5kIGNvbmZpZ3VyYXRpb24gaWYgcHJvdmlkZWRcbiAgICBpZiAocGFyYW1zLmJhY2tncm91bmRUeXBlKSB7XG4gICAgICByZXF1ZXN0Lm91dHB1dC5iYWNrZ3JvdW5kID0ge1xuICAgICAgICB0eXBlOiBwYXJhbXMuYmFja2dyb3VuZFR5cGVcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5iYWNrZ3JvdW5kVHlwZSA9PT0gJ2NvbG9yJyAmJiBwYXJhbXMuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgIHJlcXVlc3Qub3V0cHV0LmJhY2tncm91bmQuY29sb3IgPSBwYXJhbXMuYmFja2dyb3VuZENvbG9yXG4gICAgICB9IGVsc2UgaWYgKChwYXJhbXMuYmFja2dyb3VuZFR5cGUgPT09ICdpbWFnZScgfHwgcGFyYW1zLmJhY2tncm91bmRUeXBlID09PSAndmlkZW8nKSAmJiBwYXJhbXMuYmFja2dyb3VuZFVybCkge1xuICAgICAgICByZXF1ZXN0Lm91dHB1dC5iYWNrZ3JvdW5kLnNvdXJjZSA9IHtcbiAgICAgICAgICB1cmw6IHBhcmFtcy5iYWNrZ3JvdW5kVXJsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZUF2YXRhclZpZGVvKHJlcXVlc3QpXG4gIH1cblxuICBhc3luYyBnZXRKb2JTdGF0dXMoam9iSWQ6IHN0cmluZyk6IFByb21pc2U8QXZhdGFyR2VuZXJhdGlvblJlc3BvbnNlPiB7XG4gICAgaWYgKCF0aGlzLmNvbmZpZy5jbGllbnRJZCB8fCAhdGhpcy5jb25maWcuY2xpZW50U2VjcmV0IHx8IHRoaXMuY29uZmlnLmNsaWVudElkID09PSAnJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBZG9iZSBjcmVkZW50aWFscyBub3QgY29uZmlndXJlZCcpO1xuICAgIH1cblxuICAgIGlmICgham9iSWQgfHwgdHlwZW9mIGpvYklkICE9PSAnc3RyaW5nJyB8fCBqb2JJZC50cmltKCkgPT09ICcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgam9iIElEIHByb3ZpZGVkJyk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYENoZWNraW5nIGpvYiBzdGF0dXMgZm9yIGpvYklkOiAke2pvYklkfWApO1xuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy5nZXRBY2Nlc3NUb2tlbigpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFVzZSB0aGUgY29ycmVjdCBBZG9iZSBBdWRpbyBWaWRlbyBBUEkgc3RhdHVzIGVuZHBvaW50XG4gICAgICBjb25zdCBlbmRwb2ludCA9IGAke3RoaXMuYmFzZVVybH0vc3RhdHVzLyR7am9iSWR9YDtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZldGNoKGVuZHBvaW50LCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgICAgJ3gtYXBpLWtleSc6IHRoaXMuY29uZmlnLmNsaWVudElkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3VsdC5vaykge1xuICAgICAgICBjb25zb2xlLmxvZyhgQWRvYmUgQVBJIHJldHVybmVkIHN0YXR1cyAke3Jlc3VsdC5zdGF0dXN9YCk7XG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAvLyBKb2IgbWlnaHQgbm90IGJlIHJlYWR5IHlldCBvciBkb2Vzbid0IGV4aXN0XG4gICAgICAgICAgcmV0dXJuIHsgam9iSWQsIHN0YXR1czogJ3Byb2Nlc3NpbmcnIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBZG9iZSBBUEkgRXJyb3I6ICR7cmVzdWx0LnN0YXR1c30gLSAke3Jlc3VsdC5zdGF0dXNUZXh0fWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzdWx0Lmpzb24oKTtcbiAgICAgIGNvbnNvbGUubG9nKGBKb2Igc3RhdHVzIHJlc3BvbnNlIGZvciAke2pvYklkfTpgLCBkYXRhKTtcbiAgICAgIHJldHVybiBkYXRhO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdBZG9iZSBBUEkgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IGpvYklkLCBzdGF0dXM6ICdwcm9jZXNzaW5nJyB9O1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldEpvYlN0YXR1c0J5VXJsKHN0YXR1c1VybDogc3RyaW5nKTogUHJvbWlzZTxBdmF0YXJHZW5lcmF0aW9uUmVzcG9uc2U+IHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLmNsaWVudElkIHx8ICF0aGlzLmNvbmZpZy5jbGllbnRTZWNyZXQgfHwgdGhpcy5jb25maWcuY2xpZW50SWQgPT09ICcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fkb2JlIGNyZWRlbnRpYWxzIG5vdCBjb25maWd1cmVkJyk7XG4gICAgfVxuXG4gICAgaWYgKCFzdGF0dXNVcmwgfHwgdHlwZW9mIHN0YXR1c1VybCAhPT0gJ3N0cmluZycgfHwgc3RhdHVzVXJsLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdGF0dXMgVVJMIHByb3ZpZGVkJyk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYENoZWNraW5nIGpvYiBzdGF0dXMgdXNpbmcgc3RhdHVzVXJsOiAke3N0YXR1c1VybH1gKTtcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMuZ2V0QWNjZXNzVG9rZW4oKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmZXRjaChzdGF0dXNVcmwsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICAneC1hcGkta2V5JzogdGhpcy5jb25maWcuY2xpZW50SWRcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzdWx0Lm9rKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBBZG9iZSBBUEkgcmV0dXJuZWQgc3RhdHVzICR7cmVzdWx0LnN0YXR1c31gKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgIC8vIEpvYiBtaWdodCBub3QgYmUgcmVhZHkgeWV0IG9yIGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgICBjb25zdCBqb2JJZCA9IHN0YXR1c1VybC5zcGxpdCgnLycpLnBvcCgpIHx8ICd1bmtub3duJztcbiAgICAgICAgICByZXR1cm4geyBqb2JJZCwgc3RhdHVzOiAncHJvY2Vzc2luZycgfTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFkb2JlIEFQSSBFcnJvcjogJHtyZXN1bHQuc3RhdHVzfSAtICR7cmVzdWx0LnN0YXR1c1RleHR9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXN1bHQuanNvbigpO1xuICAgICAgY29uc29sZS5sb2coYEpvYiBzdGF0dXMgcmVzcG9uc2UgZnJvbSBVUkw6YCwgZGF0YSk7XG4gICAgICByZXR1cm4gZGF0YTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygnQWRvYmUgQVBJIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICBjb25zdCBqb2JJZCA9IHN0YXR1c1VybC5zcGxpdCgnLycpLnBvcCgpIHx8ICd1bmtub3duJztcbiAgICAgIHJldHVybiB7IGpvYklkLCBzdGF0dXM6ICdwcm9jZXNzaW5nJyB9O1xuICAgIH1cbiAgfVxuXG5cbiAgcHJpdmF0ZSBnZXREZW1vSm9iU3RhdHVzKGpvYklkOiBzdHJpbmcpOiBBdmF0YXJHZW5lcmF0aW9uUmVzcG9uc2Uge1xuICAgIC8vIFJldHVybiBwcm9jZXNzaW5nIHN0YXR1cyAtIG5vIGRlbW8gdmlkZW8gVVJMc1xuICAgIHJldHVybiB7XG4gICAgICBqb2JJZCxcbiAgICAgIHN0YXR1czogJ3Byb2Nlc3NpbmcnXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzYW5pdGl6ZVRleHQodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyBSZW1vdmUgZW1vamlzIGFuZCBzcGVjaWFsIHN5bWJvbHMgdGhhdCBBZG9iZSBBUEkgZG9lc24ndCBzdXBwb3J0XG4gICAgcmV0dXJuIHRleHRcbiAgICAgIC8vIFJlbW92ZSBjb21tb24gZW1vamlzIGFuZCBzeW1ib2xzXG4gICAgICAucmVwbGFjZSgvW1xcdTI2MDAtXFx1MjZGRl0vZywgJycpIC8vIE1pc2NlbGxhbmVvdXMgc3ltYm9sc1xuICAgICAgLnJlcGxhY2UoL1tcXHUyNzAwLVxcdTI3QkZdL2csICcnKSAvLyBEaW5nYmF0c1xuICAgICAgLnJlcGxhY2UoL1tcXHVEODNDLVxcdUQ4M0RdW1xcdURDMDAtXFx1REZGRl0vZywgJycpIC8vIEVtb3RpY29ucyBhbmQgc3ltYm9sc1xuICAgICAgLnJlcGxhY2UoL1tcXHVEODNFXVtcXHVERDAwLVxcdURERkZdL2csICcnKSAvLyBTdXBwbGVtZW50YWwgc3ltYm9sc1xuICAgICAgLy8gUmVtb3ZlIG90aGVyIHNwZWNpYWwgY2hhcmFjdGVyc1xuICAgICAgLnJlcGxhY2UoL1teXFx3XFxzLiwhPzs6J1wiKCktXS9nLCAnJykgLy8gS2VlcCBvbmx5IGFscGhhbnVtZXJpYywgc3BhY2VzLCBhbmQgYmFzaWMgcHVuY3R1YXRpb25cbiAgICAgIC8vIENsZWFuIHVwIG11bHRpcGxlIHNwYWNlc1xuICAgICAgLnJlcGxhY2UoL1xccysvZywgJyAnKVxuICAgICAgLy8gVHJpbSB3aGl0ZXNwYWNlXG4gICAgICAudHJpbSgpXG4gIH1cblxuICBhc3luYyBnZXRBdmF0YXJzKCk6IFByb21pc2U8QXZhdGFyW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KCcvYXZhdGFycycpXG5cbiAgICBcbiAgICAgIGNvbnN0IGF2YXRhcnMgPSByZXNwb25zZT8uZGF0YTtcbiAgICBcbiAgICAgIGlmIChhdmF0YXJzICYmIEFycmF5LmlzQXJyYXkoYXZhdGFycykgJiYgYXZhdGFycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBhdmF0YXJzLm1hcCgoYXZhdGFyOiBhbnkpID0+ICh7XG4gICAgICAgICAgaWQ6IGF2YXRhci5hdmF0YXJJZCxcbiAgICAgICAgICBuYW1lOiBhdmF0YXIuZGlzcGxheU5hbWUsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGAke2F2YXRhci5jbG90aGluZ1N0eWxlfSAke2F2YXRhci5hZ2VHcm91cH0gJHthdmF0YXIuZXRobmljaXR5fWAsXG4gICAgICAgICAgdGh1bWJuYWlsOiBhdmF0YXIudGh1bWJuYWlsVXJscz8ubG93UmVzIHx8IGF2YXRhci50aHVtYm5haWxVcmxzPy5oZCB8fCAnJyxcbiAgICAgICAgICBnZW5kZXI6IGF2YXRhci5nZW5kZXIudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICBhZ2U6IGF2YXRhci5hZ2VHcm91cCxcbiAgICAgICAgICBldGhuaWNpdHk6IGF2YXRhci5ldGhuaWNpdHlcbiAgICAgICAgfSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzcG9uc2VcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYXZhdGFyczonLCBlcnJvcilcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFZvaWNlcygpOiBQcm9taXNlPFZvaWNlW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KCcvdm9pY2VzJylcbiAgICAgIFxuICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCByZXNwb25zZSBzdHJ1Y3R1cmVzIGZyb20gQWRvYmUgQVBJXG4gICAgICBsZXQgdm9pY2VzRGF0YSA9IHJlc3BvbnNlXG4gICAgICBcbiAgICAgIC8vIElmIHJlc3BvbnNlIGhhcyBhIGRhdGEgcHJvcGVydHksIHVzZSB0aGF0XG4gICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZGF0YSAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlLmRhdGEpKSB7XG4gICAgICAgIHZvaWNlc0RhdGEgPSByZXNwb25zZS5kYXRhXG4gICAgICB9XG4gICAgICAvLyBJZiByZXNwb25zZSBpcyBhbHJlYWR5IGFuIGFycmF5LCB1c2UgaXQgZGlyZWN0bHlcbiAgICAgIGVsc2UgaWYgKHJlc3BvbnNlICYmIEFycmF5LmlzQXJyYXkocmVzcG9uc2UpKSB7XG4gICAgICAgIHZvaWNlc0RhdGEgPSByZXNwb25zZVxuICAgICAgfVxuICAgICAgLy8gSWYgcmVzcG9uc2UgaGFzIGEgdm9pY2VzIHByb3BlcnR5LCB1c2UgdGhhdFxuICAgICAgZWxzZSBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uudm9pY2VzICYmIEFycmF5LmlzQXJyYXkocmVzcG9uc2Uudm9pY2VzKSkge1xuICAgICAgICB2b2ljZXNEYXRhID0gcmVzcG9uc2Uudm9pY2VzXG4gICAgICB9XG4gICAgICAvLyBJZiBub25lIG9mIHRoZSBhYm92ZSwgcmV0dXJuIGVtcHR5IGFycmF5XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1VuZXhwZWN0ZWQgdm9pY2VzIHJlc3BvbnNlIHN0cnVjdHVyZTonLCByZXNwb25zZSlcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIE1hcCBBZG9iZSB2b2ljZSBkYXRhIHRvIG91ciBpbnRlcmZhY2VcbiAgICAgIGlmICh2b2ljZXNEYXRhICYmIEFycmF5LmlzQXJyYXkodm9pY2VzRGF0YSkgJiYgdm9pY2VzRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB2b2ljZXNEYXRhLm1hcCgodm9pY2U6IGFueSkgPT4gKHtcbiAgICAgICAgICB2b2ljZUlkOiB2b2ljZS52b2ljZUlkLFxuICAgICAgICAgIGRpc3BsYXlOYW1lOiB2b2ljZS5kaXNwbGF5TmFtZSB8fCB2b2ljZS5uYW1lIHx8ICdVbmtub3duIFZvaWNlJyxcbiAgICAgICAgICBzdHlsZTogdm9pY2Uuc3R5bGUgfHwgdm9pY2UuYWNjZW50IHx8ICdTdGFuZGFyZCcsXG4gICAgICAgICAgZ2VuZGVyOiB2b2ljZS5nZW5kZXIgfHwgJ3Vua25vd24nLFxuICAgICAgICAgIGxhbmd1YWdlOiB2b2ljZS5sYW5ndWFnZSB8fCAnZW4tVVMnLFxuICAgICAgICAgIGFjY2VudDogdm9pY2UuYWNjZW50IHx8IHZvaWNlLnJlZ2lvbiB8fCAnU3RhbmRhcmQnLFxuICAgICAgICAgIHNhbXBsZVVSTDogdm9pY2Uuc2FtcGxlVVJMIHx8IG51bGxcbiAgICAgICAgfSkpXG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBbXVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB2b2ljZXM6JywgZXJyb3IpXG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJBZG9iZUF2YXRhckFQSSIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiYmFzZVVybCIsImNhY2hlZFRva2VuIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiQURPQkVfQ0xJRU5UX0lEIiwiY2xpZW50U2VjcmV0IiwiQURPQkVfQ0xJRU5UX1NFQ1JFVCIsImdldEFjY2Vzc1Rva2VuIiwiRGF0ZSIsIm5vdyIsImV4cGlyeSIsImFjY2Vzc1Rva2VuIiwidXJsIiwiRXJyb3IiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJhcHBlbmQiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJvayIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJkYXRhIiwianNvbiIsImFjY2Vzc190b2tlbiIsImV4cGlyZXNfaW4iLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwibWFrZVJlcXVlc3QiLCJlbmRwb2ludCIsIm9wdGlvbnMiLCJ0b2tlbiIsImF2YXQiLCJ0ZXh0IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JEYXRhIiwiSlNPTiIsInBhcnNlIiwiZXJyb3JfY29kZSIsInBhcnNlRXJyb3IiLCJnZW5lcmF0ZUF2YXRhclZpZGVvIiwicmVxdWVzdCIsImxvZyIsInN0cmluZ2lmeSIsImVyclRleHQiLCJqb2IiLCJnZW5lcmF0ZUZyb21UZXh0Iiwic2FuaXRpemVkVGV4dCIsInNhbml0aXplVGV4dCIsInNjcmlwdCIsIm1lZGlhVHlwZSIsImxvY2FsZUNvZGUiLCJ2b2ljZUlkIiwiYXZhdGFySWQiLCJvdXRwdXQiLCJvdXRwdXRGb3JtYXQiLCJiYWNrZ3JvdW5kVHlwZSIsImJhY2tncm91bmQiLCJ0eXBlIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJiYWNrZ3JvdW5kVXJsIiwic291cmNlIiwiZ2VuZXJhdGVGcm9tVGV4dEZpbGUiLCJ0ZXh0RmlsZVVybCIsImdlbmVyYXRlRnJvbUF1ZGlvIiwiYXVkaW8iLCJhdWRpb0ZpbGVVcmwiLCJhdWRpb0Zvcm1hdCIsImdldEpvYlN0YXR1cyIsImpvYklkIiwidHJpbSIsInJlc3VsdCIsImdldEpvYlN0YXR1c0J5VXJsIiwic3RhdHVzVXJsIiwic3BsaXQiLCJwb3AiLCJnZXREZW1vSm9iU3RhdHVzIiwicmVwbGFjZSIsImdldEF2YXRhcnMiLCJhdmF0YXJzIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwibWFwIiwiYXZhdGFyIiwiaWQiLCJuYW1lIiwiZGlzcGxheU5hbWUiLCJkZXNjcmlwdGlvbiIsImNsb3RoaW5nU3R5bGUiLCJhZ2VHcm91cCIsImV0aG5pY2l0eSIsInRodW1ibmFpbCIsInRodW1ibmFpbFVybHMiLCJsb3dSZXMiLCJoZCIsImdlbmRlciIsInRvTG93ZXJDYXNlIiwiYWdlIiwiZ2V0Vm9pY2VzIiwidm9pY2VzRGF0YSIsInZvaWNlcyIsInZvaWNlIiwic3R5bGUiLCJhY2NlbnQiLCJsYW5ndWFnZSIsInJlZ2lvbiIsInNhbXBsZVVSTCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/apis/adobe-avatar.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadobe-avatar%2Fgenerate%2Froute&page=%2Fapi%2Fadobe-avatar%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadobe-avatar%2Fgenerate%2Froute.ts&appDir=%2Fhome%2Fhipster%2FDesktop%2Fown%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fhipster%2FDesktop%2Fown&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();